# v3.0.0-rc4

```eval_rst
.. admonition:: v2.x升级到v3.0.0-rc4

    - **全面升级** ：参考 `搭建第一个区块链网络 <../quick_start/air_installation.html>`_ 搭建新链，重新向新节点提交所有历史交易，升级后节点包含v3.0.0-rc3新特性

    - v3.0.0-rc4与v3.0.0-rc3不兼容，预计从正式版本进行版本间兼容性支持

    - `v3.0.0-rc4 Release Note <https://github.com/FISCO-BCOS/FISCO-BCOS/releases/tag/v3.0.0-rc4>`_
```

## 变更描述

### 新增

- 实现`Max`版本FISCO-BCOS, 存储采用分布式存储TiKV，执行模块独立成服务，存储和执行均可横向扩展，且支持自动化主备恢复，可支撑海量交易上链场景
- 从数据到协议层全面设计并实现兼容性框架，可保证协议和数据的安全升级
- 支持CRUD合约接口，简化区块链应用开发门槛
- 支持群环签名合约接口，丰富链上隐私计算能力
- 支持合约生命周期管理功能，包括合约冻结、解冻
- 支持数据落盘加密
- 基于`mtail` + `prometheus` + `grafana` + `ansiable`实现区块链系统监控

### 更改

- 引入KeyPage，优化读存储性能
- 基于Rip协议原理，实现网络转发功能，提升网络鲁棒性
- 支持linux aarch64平台
- 更新权限治理合约，将节点角色管理、系统配置修改、合约生命周期管理等功能纳入到治理框架
- 重构权限治理合约，计算逻辑可升级
- 优化DMC执行框架的性能
- 优化RPC和P2P的网络性能
- 优化`Pro`版FISCO-BCOS建链脚本，支持以机构维度配置RPC、Gateway、BcosNodeService等服务
- 节点的VM类型配置、权限治理开关与初始化账号地址，均更改配置在创世块中，不允许修改

### 修复

- 修复[#issue 2448](https://github.com/FISCO-BCOS/FISCO-BCOS/issues/2448)

### 兼容性

3.0.0-rc4版本与3.0.0-rc3版本数据和协议不兼容，Solidity/WBC-Liquid合约源码兼容。如果要从3.0.0-rc3版本升级到3.0.0-rc4版本，需要做数据迁移。

|          | 推荐版本                        | 最低版本                        | 说明 |
|----------|---------------------------------|---------------------------------|------|
| 控制台   | 3.0.0-rc4                       | 3.0.0-rc4                       |      |
| Java SDK | 3.0.0-rc4                       | 3.0.0-rc4                       |      |
| CPP SDK  | 3.0.0-rc4                       | 3.0.0-rc4                       |      |
| WeBASE   | 暂时不支持(预计lab-rc4版本支持) | 暂时不支持(预计lab-rc4版本支持) |      |
| Solidity | 最高支持 solidity 0.8.11.0      | 0.6.10                          |      |
| Liquid   | 1.0.0-rc3                       | 1.0.0-rc2                       |      |
