# v3.2.5

#### Repair

* [System call to fix security vulnerability in build _ chain script](https://github.com/FISCO-BCOS/FISCO-BCOS/pull/4039)
* [Fix the problem that the node receives an AMOP message to report an error after it turns on read-only mode](https://github.com/FISCO-BCOS/FISCO-BCOS/pull/4043)

#### Upgrade Description

* Upgrade Node Executable

  Effect: fix the bug, and bring stability, performance improvement

  Operation: Stop the node service, upgrade the node executable to the current version, and restart the node service

  Note: it is recommended to gradually replace the executable program for gray scale upgrade

  Version supported for upgrade: v3.0.0+

* Upgrade chain data version

  Effect: Use the latest features of the current version

  Operation: first complete the upgrade of all node executable programs, and then refer to the [document](https://fisco-bcos-doc.readthedocs.io/zh_CN/latest/docs/introduction/change_log/3_2_1.html#id5)
  Send transaction upgrade chain data version to v3.2.0

  Note: Be sure to back up all the ledger data of the original node. If the upgrade fails due to an error, the original data can be rolled back to the status before the upgrade.
  Version supported for upgrade: v3.0.0+

* Component compatibility

  Please refer to [Full Description](https://fisco-bcos-documentation.readthedocs.io/zh_CN/latest/docs/compatibility.html#fisco-bcos-v3-2-2)

|            | Recommended Version| Minimum Version| Description|
|------------|-------------|---------------------|-------------------|
| WeBASE     | 3.0.2       | 3.0.2               |                   |
| WeIdentity | v3.0.0-rc.1 | v3.0.0-rc.1         |                   |
| Console    | 3.2.0       | 3.0.0               |                   |
| Java SDK   | 3.2.2       | 3.0.0               |                   |
| CPP SDK    | 3.2.2       | 3.0.0               |                   |
| Solidity   | 0.8.11      | Minimum 0.4.25, maximum 0.8.11| The compiler (console) needs to be downloaded according to the contract version|
| WBC-Liquid | 1.0.0-rc3   | 1.0.0-rc3           |                   |

#### Upgrade Method

This operation only supports upgrading version 3.x to this version, not 3.0-Upgrade of rc or 2.x。

##### Query data compatibility version number (compatibility _ version)

Use [console](https://fisco-bcos-doc.readthedocs.io/zh_CN/latest/docs/operation_and_maintenance/console/console_commands.html#getsystemconfigbykey)
Query, such as the current version returned is 3.0.0

``` 
[group0]: /apps>  getSystemConfigByKey compatibility_version
3.0.0
```

##### Replace Node Binary

Need to be**All Nodes**
Gradually replace the binary with the current version。In order not to affect the business, the replacement process can be done in grayscale, replacing and restarting nodes one by one。During the replacement process, the current chain continues to execute with the logic of the old data-compatible version number.。After the binary replacement of all nodes is completed and restarted, you need to use the console to modify the data compatibility version number to the current version。

##### Set the data compatibility version number (compatibility _ version)

Use [console](https://fisco-bcos-doc.readthedocs.io/zh_CN/latest/docs/operation_and_maintenance/console/console_commands.html#setsystemconfigbykey)
Set the data compatibility version number. For example, the current version is 3.2.0.。

```
[group0]: /apps>  setSystemConfigByKey compatibility_version 3.2.0
{
    "code":0,
    "msg":"success"
}

Note: If the permission governance function is enabled, you need to use the setSysConfigProposal command
```

Set successfully, query again, the current version has been upgraded to 3.2.0

``` 
[group0]: /apps>  getSystemConfigByKey compatibility_version
3.2.0
```

The current chain has been upgraded, so far,**The chain continues to run with new logic**and supports new features。